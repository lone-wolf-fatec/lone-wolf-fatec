{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Carlos\\\\Desktop\\\\API SOZINHO 2\\\\alone-front\\\\src\\\\components\\\\JornadasTab.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useWorkshift } from './WorkshiftContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst JornadasTabIntegration = () => {\n  _s();\n  // Get access to the workshifts context\n  const {\n    workshifts,\n    employeesByWorkshift,\n    updateWorkshift,\n    updateEmployeeWorkshift,\n    renderWorkDays\n  } = useWorkshift();\n\n  // Local state for UI management (modal controls, etc.)\n  const [modalJornadaAberto, setModalJornadaAberto] = useState(false);\n  const [jornadaEmEdicao, setJornadaEmEdicao] = useState(null);\n  const [modalExclusaoAberto, setModalExclusaoAberto] = useState(false);\n  const [jornadaParaExcluir, setJornadaParaExcluir] = useState(null);\n  const [modalGerenciarFuncionariosAberto, setModalGerenciarFuncionariosAberto] = useState(false);\n  const [jornadaEmGestao, setJornadaEmGestao] = useState(null);\n  const [funcionarioSelecionado, setFuncionarioSelecionado] = useState(null);\n\n  // State for new workshift data\n  const [novaJornada, setNovaJornada] = useState({\n    nome: '',\n    descricao: '',\n    horaInicio: '',\n    horaFim: '',\n    intervaloInicio: '',\n    intervaloFim: '',\n    diasTrabalho: [],\n    cargaHorariaSemanal: 0,\n    toleranciaEntrada: 10,\n    toleranciaSaida: 10,\n    ativo: true,\n    escalaEspecial: false\n  });\n\n  // Function to open the modal to create a new workshift\n  const abrirModalCriarJornada = () => {\n    setJornadaEmEdicao(null);\n    setNovaJornada({\n      nome: '',\n      descricao: '',\n      horaInicio: '',\n      horaFim: '',\n      intervaloInicio: '',\n      intervaloFim: '',\n      diasTrabalho: [],\n      cargaHorariaSemanal: 0,\n      toleranciaEntrada: 10,\n      toleranciaSaida: 10,\n      ativo: true,\n      escalaEspecial: false\n    });\n    setModalJornadaAberto(true);\n  };\n\n  // Function to open the modal to edit an existing workshift\n  const abrirModalEditarJornada = jornada => {\n    setJornadaEmEdicao(jornada.id);\n    setNovaJornada({\n      ...jornada,\n      diasTrabalho: [...jornada.diasTrabalho]\n    });\n    setModalJornadaAberto(true);\n  };\n\n  // Function to toggle workday selection\n  const alternarDiaTrabalho = dia => {\n    const diasAtuais = [...novaJornada.diasTrabalho];\n    if (diasAtuais.includes(dia)) {\n      // Remove day\n      const novosDias = diasAtuais.filter(d => d !== dia);\n      setNovaJornada({\n        ...novaJornada,\n        diasTrabalho: novosDias\n      });\n    } else {\n      // Add day\n      const novosDias = [...diasAtuais, dia].sort((a, b) => a - b);\n      setNovaJornada({\n        ...novaJornada,\n        diasTrabalho: novosDias\n      });\n    }\n  };\n\n  // Function to open the modal to manage employees for a workshift\n  const abrirModalGerenciarFuncionarios = (jornada, funcionarioSelecionado = null) => {\n    setJornadaEmGestao(jornada);\n    setFuncionarioSelecionado(funcionarioSelecionado);\n    setModalGerenciarFuncionariosAberto(true);\n  };\n\n  // Function to add/remove an employee to/from a workshift\n  const gerenciarFuncionarioNaJornada = (jornada, funcionario) => {\n    if (!funcionario || !jornada) return;\n    const funcionariosAtuais = employeesByWorkshift[jornada.id] || [];\n    const jaAssociado = funcionariosAtuais.includes(funcionario);\n\n    // Using the context function to update employee workshift\n    if (jaAssociado) {\n      // Remove employee from workshift\n      updateEmployeeWorkshift(funcionario, null);\n    } else {\n      // Add employee to workshift\n      updateEmployeeWorkshift(funcionario, jornada.id.toString());\n    }\n\n    // Reset selection\n    if (funcionarioSelecionado === funcionario) {\n      setFuncionarioSelecionado(null);\n    }\n  };\n\n  // Function to save workshift (create or update)\n  const salvarJornada = e => {\n    e.preventDefault();\n    if (!novaJornada.nome || !novaJornada.horaInicio || !novaJornada.horaFim) {\n      alert('Por favor, preencha todos os campos obrigatórios.');\n      return;\n    }\n    if (!novaJornada.escalaEspecial && novaJornada.diasTrabalho.length === 0) {\n      alert('Por favor, selecione pelo menos um dia de trabalho.');\n      return;\n    }\n\n    // Calculate daily hours\n    const calcularHorasDiarias = () => {\n      const inicio = novaJornada.horaInicio.split(':');\n      const fim = novaJornada.horaFim.split(':');\n      let horasInicio = parseInt(inicio[0]);\n      let minutosInicio = parseInt(inicio[1]);\n      let horasFim = parseInt(fim[0]);\n      let minutosFim = parseInt(fim[1]);\n\n      // Convert to total minutes\n      const inicioMinutos = horasInicio * 60 + minutosInicio;\n      const fimMinutos = horasFim * 60 + minutosFim;\n\n      // Calculate difference in minutes\n      let diferencaMinutos = fimMinutos - inicioMinutos;\n\n      // If end < start, assume it passed midnight\n      if (diferencaMinutos < 0) {\n        diferencaMinutos += 24 * 60;\n      }\n\n      // Subtract break time if exists\n      if (novaJornada.intervaloInicio && novaJornada.intervaloFim) {\n        const inicioIntervalo = novaJornada.intervaloInicio.split(':');\n        const fimIntervalo = novaJornada.intervaloFim.split(':');\n        const intervaloInicio = parseInt(inicioIntervalo[0]) * 60 + parseInt(inicioIntervalo[1]);\n        const intervaloFim = parseInt(fimIntervalo[0]) * 60 + parseInt(fimIntervalo[1]);\n        diferencaMinutos -= intervaloFim - intervaloInicio;\n      }\n\n      // Return hours in decimal format\n      return diferencaMinutos / 60;\n    };\n    const horasDiarias = calcularHorasDiarias();\n\n    // Calculate weekly hours if not a special schedule\n    const cargaHorariaSemanal = novaJornada.escalaEspecial ? novaJornada.cargaHorariaSemanal : Math.round(horasDiarias * novaJornada.diasTrabalho.length * 100) / 100;\n\n    // Create or update workshift\n    const jornadaCompleta = {\n      ...novaJornada,\n      cargaHorariaSemanal,\n      id: jornadaEmEdicao || Date.now() // Use existing ID or create a new one\n    };\n\n    // Use the context function to update workshifts\n    updateWorkshift(jornadaCompleta);\n\n    // Close modal\n    setModalJornadaAberto(false);\n    setJornadaEmEdicao(null);\n  };\n\n  // Function to confirm workshift deletion\n  const confirmarExclusaoJornada = jornada => {\n    setJornadaParaExcluir(jornada);\n    setModalExclusaoAberto(true);\n  };\n\n  // Function to toggle workshift active status\n  const alternarStatusJornada = id => {\n    const jornada = workshifts.find(j => j.id === id);\n    if (jornada) {\n      updateWorkshift({\n        ...jornada,\n        ativo: !jornada.ativo\n      });\n    }\n  };\n\n  // Rest of the component rendering (similar to your original JornadasTab)\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-purple-800 bg-opacity-40 backdrop-blur-sm rounded-lg shadow-lg p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold\",\n        children: \"Jornadas de Trabalho\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: abrirModalCriarJornada,\n        className: \"bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          className: \"h-5 w-5 mr-2\",\n          fill: \"none\",\n          viewBox: \"0 0 24 24\",\n          stroke: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M12 6v6m0 0v6m0-6h6m-6 0H6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), \"Nova Jornada\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n      children: [workshifts.map(jornada => {\n        var _employeesByWorkshift, _employeesByWorkshift2;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `bg-purple-900 bg-opacity-40 rounded-lg p-4 shadow ${!jornada.ativo ? 'opacity-70' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-start mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold\",\n              children: jornada.nome\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => alternarStatusJornada(jornada.id),\n                className: `p-1 rounded ${jornada.ativo ? 'bg-green-600 hover:bg-green-700' : 'bg-gray-600 hover:bg-gray-700'}`,\n                title: jornada.ativo ? 'Desativar Jornada' : 'Ativar Jornada',\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  className: \"h-4 w-4\",\n                  fill: \"none\",\n                  viewBox: \"0 0 24 24\",\n                  stroke: \"currentColor\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M5 13l4 4L19 7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 235,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => abrirModalEditarJornada(jornada),\n                className: \"bg-blue-600 hover:bg-blue-700 p-1 rounded\",\n                title: \"Editar Jornada\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  className: \"h-4 w-4\",\n                  fill: \"none\",\n                  viewBox: \"0 0 24 24\",\n                  stroke: \"currentColor\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => confirmarExclusaoJornada(jornada),\n                className: \"bg-red-600 hover:bg-red-700 p-1 rounded\",\n                title: \"Excluir Jornada\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  className: \"h-4 w-4\",\n                  fill: \"none\",\n                  viewBox: \"0 0 24 24\",\n                  stroke: \"currentColor\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-purple-300 text-sm mb-3\",\n            children: jornada.descricao\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-x-4 gap-y-2 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-purple-300 text-xs\",\n                children: \"Hor\\xE1rio:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [jornada.horaInicio, \" - \", jornada.horaFim]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-purple-300 text-xs\",\n                children: \"Intervalo:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: jornada.intervaloInicio && jornada.intervaloFim ? `${jornada.intervaloInicio} - ${jornada.intervaloFim}` : 'Sem intervalo'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-purple-300 text-xs\",\n                children: \"Dias:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"truncate\",\n                title: renderWorkDays(jornada.diasTrabalho),\n                children: renderWorkDays(jornada.diasTrabalho)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-purple-300 text-xs\",\n                children: \"Carga Semanal:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [jornada.cargaHorariaSemanal, \"h\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-purple-300 text-xs\",\n                children: \"Toler\\xE2ncia:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [jornada.toleranciaEntrada, \"min / \", jornada.toleranciaSaida, \"min\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-purple-300 text-xs\",\n                children: \"Status:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: jornada.ativo ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-green-400\",\n                  children: \"Ativa\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-red-400\",\n                  children: \"Inativa\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-purple-300 text-xs\",\n                children: [\"Funcion\\xE1rios (\", ((_employeesByWorkshift = employeesByWorkshift[jornada.id]) === null || _employeesByWorkshift === void 0 ? void 0 : _employeesByWorkshift.length) || 0, \"):\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => abrirModalGerenciarFuncionarios(jornada),\n                className: \"text-purple-300 hover:text-white text-xs underline\",\n                children: \"Gerenciar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-1 flex flex-wrap gap-1\",\n              children: [(_employeesByWorkshift2 = employeesByWorkshift[jornada.id]) === null || _employeesByWorkshift2 === void 0 ? void 0 : _employeesByWorkshift2.map((funcionario, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"bg-purple-700 text-xs px-2 py-1 rounded-full\",\n                title: funcionario,\n                children: funcionario\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 19\n              }, this)), (!employeesByWorkshift[jornada.id] || employeesByWorkshift[jornada.id].length === 0) && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-purple-400 text-xs\",\n                children: \"Nenhum funcion\\xE1rio atribu\\xEDdo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this)]\n        }, jornada.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this);\n      }), workshifts.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-span-2 text-center py-8 text-purple-300\",\n        children: \"Nenhuma jornada de trabalho cadastrada. Clique em \\\"Nova Jornada\\\" para criar.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 205,\n    columnNumber: 5\n  }, this);\n};\n_s(JornadasTabIntegration, \"HTeiOCGCZOOOcCj77hrEor5Tohc=\", false, function () {\n  return [useWorkshift];\n});\n_c = JornadasTabIntegration;\nexport default JornadasTabIntegration;\nvar _c;\n$RefreshReg$(_c, \"JornadasTabIntegration\");","map":{"version":3,"names":["React","useState","useEffect","useWorkshift","jsxDEV","_jsxDEV","JornadasTabIntegration","_s","workshifts","employeesByWorkshift","updateWorkshift","updateEmployeeWorkshift","renderWorkDays","modalJornadaAberto","setModalJornadaAberto","jornadaEmEdicao","setJornadaEmEdicao","modalExclusaoAberto","setModalExclusaoAberto","jornadaParaExcluir","setJornadaParaExcluir","modalGerenciarFuncionariosAberto","setModalGerenciarFuncionariosAberto","jornadaEmGestao","setJornadaEmGestao","funcionarioSelecionado","setFuncionarioSelecionado","novaJornada","setNovaJornada","nome","descricao","horaInicio","horaFim","intervaloInicio","intervaloFim","diasTrabalho","cargaHorariaSemanal","toleranciaEntrada","toleranciaSaida","ativo","escalaEspecial","abrirModalCriarJornada","abrirModalEditarJornada","jornada","id","alternarDiaTrabalho","dia","diasAtuais","includes","novosDias","filter","d","sort","a","b","abrirModalGerenciarFuncionarios","gerenciarFuncionarioNaJornada","funcionario","funcionariosAtuais","jaAssociado","toString","salvarJornada","e","preventDefault","alert","length","calcularHorasDiarias","inicio","split","fim","horasInicio","parseInt","minutosInicio","horasFim","minutosFim","inicioMinutos","fimMinutos","diferencaMinutos","inicioIntervalo","fimIntervalo","horasDiarias","Math","round","jornadaCompleta","Date","now","confirmarExclusaoJornada","alternarStatusJornada","find","j","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","map","_employeesByWorkshift","_employeesByWorkshift2","title","index","_c","$RefreshReg$"],"sources":["C:/Users/Carlos/Desktop/API SOZINHO 2/alone-front/src/components/JornadasTab.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useWorkshift } from './WorkshiftContext';\r\n\r\nconst JornadasTabIntegration = () => {\r\n  // Get access to the workshifts context\r\n  const { \r\n    workshifts, \r\n    employeesByWorkshift, \r\n    updateWorkshift, \r\n    updateEmployeeWorkshift,\r\n    renderWorkDays\r\n  } = useWorkshift();\r\n\r\n  // Local state for UI management (modal controls, etc.)\r\n  const [modalJornadaAberto, setModalJornadaAberto] = useState(false);\r\n  const [jornadaEmEdicao, setJornadaEmEdicao] = useState(null);\r\n  const [modalExclusaoAberto, setModalExclusaoAberto] = useState(false);\r\n  const [jornadaParaExcluir, setJornadaParaExcluir] = useState(null);\r\n  const [modalGerenciarFuncionariosAberto, setModalGerenciarFuncionariosAberto] = useState(false);\r\n  const [jornadaEmGestao, setJornadaEmGestao] = useState(null);\r\n  const [funcionarioSelecionado, setFuncionarioSelecionado] = useState(null);\r\n  \r\n  // State for new workshift data\r\n  const [novaJornada, setNovaJornada] = useState({\r\n    nome: '',\r\n    descricao: '',\r\n    horaInicio: '',\r\n    horaFim: '',\r\n    intervaloInicio: '',\r\n    intervaloFim: '',\r\n    diasTrabalho: [],\r\n    cargaHorariaSemanal: 0,\r\n    toleranciaEntrada: 10,\r\n    toleranciaSaida: 10,\r\n    ativo: true,\r\n    escalaEspecial: false\r\n  });\r\n  \r\n  // Function to open the modal to create a new workshift\r\n  const abrirModalCriarJornada = () => {\r\n    setJornadaEmEdicao(null);\r\n    setNovaJornada({\r\n      nome: '',\r\n      descricao: '',\r\n      horaInicio: '',\r\n      horaFim: '',\r\n      intervaloInicio: '',\r\n      intervaloFim: '',\r\n      diasTrabalho: [],\r\n      cargaHorariaSemanal: 0,\r\n      toleranciaEntrada: 10,\r\n      toleranciaSaida: 10,\r\n      ativo: true,\r\n      escalaEspecial: false\r\n    });\r\n    setModalJornadaAberto(true);\r\n  };\r\n  \r\n  // Function to open the modal to edit an existing workshift\r\n  const abrirModalEditarJornada = (jornada) => {\r\n    setJornadaEmEdicao(jornada.id);\r\n    setNovaJornada({\r\n      ...jornada,\r\n      diasTrabalho: [...jornada.diasTrabalho]\r\n    });\r\n    setModalJornadaAberto(true);\r\n  };\r\n  \r\n  // Function to toggle workday selection\r\n  const alternarDiaTrabalho = (dia) => {\r\n    const diasAtuais = [...novaJornada.diasTrabalho];\r\n    \r\n    if (diasAtuais.includes(dia)) {\r\n      // Remove day\r\n      const novosDias = diasAtuais.filter(d => d !== dia);\r\n      setNovaJornada({ ...novaJornada, diasTrabalho: novosDias });\r\n    } else {\r\n      // Add day\r\n      const novosDias = [...diasAtuais, dia].sort((a, b) => a - b);\r\n      setNovaJornada({ ...novaJornada, diasTrabalho: novosDias });\r\n    }\r\n  };\r\n  \r\n  // Function to open the modal to manage employees for a workshift\r\n  const abrirModalGerenciarFuncionarios = (jornada, funcionarioSelecionado = null) => {\r\n    setJornadaEmGestao(jornada);\r\n    setFuncionarioSelecionado(funcionarioSelecionado);\r\n    setModalGerenciarFuncionariosAberto(true);\r\n  };\r\n  \r\n  // Function to add/remove an employee to/from a workshift\r\n  const gerenciarFuncionarioNaJornada = (jornada, funcionario) => {\r\n    if (!funcionario || !jornada) return;\r\n    \r\n    const funcionariosAtuais = employeesByWorkshift[jornada.id] || [];\r\n    const jaAssociado = funcionariosAtuais.includes(funcionario);\r\n    \r\n    // Using the context function to update employee workshift\r\n    if (jaAssociado) {\r\n      // Remove employee from workshift\r\n      updateEmployeeWorkshift(funcionario, null);\r\n    } else {\r\n      // Add employee to workshift\r\n      updateEmployeeWorkshift(funcionario, jornada.id.toString());\r\n    }\r\n    \r\n    // Reset selection\r\n    if (funcionarioSelecionado === funcionario) {\r\n      setFuncionarioSelecionado(null);\r\n    }\r\n  };\r\n  \r\n  // Function to save workshift (create or update)\r\n  const salvarJornada = (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!novaJornada.nome || !novaJornada.horaInicio || !novaJornada.horaFim) {\r\n      alert('Por favor, preencha todos os campos obrigatórios.');\r\n      return;\r\n    }\r\n    \r\n    if (!novaJornada.escalaEspecial && novaJornada.diasTrabalho.length === 0) {\r\n      alert('Por favor, selecione pelo menos um dia de trabalho.');\r\n      return;\r\n    }\r\n    \r\n    // Calculate daily hours\r\n    const calcularHorasDiarias = () => {\r\n      const inicio = novaJornada.horaInicio.split(':');\r\n      const fim = novaJornada.horaFim.split(':');\r\n      \r\n      let horasInicio = parseInt(inicio[0]);\r\n      let minutosInicio = parseInt(inicio[1]);\r\n      let horasFim = parseInt(fim[0]);\r\n      let minutosFim = parseInt(fim[1]);\r\n      \r\n      // Convert to total minutes\r\n      const inicioMinutos = horasInicio * 60 + minutosInicio;\r\n      const fimMinutos = horasFim * 60 + minutosFim;\r\n      \r\n      // Calculate difference in minutes\r\n      let diferencaMinutos = fimMinutos - inicioMinutos;\r\n      \r\n      // If end < start, assume it passed midnight\r\n      if (diferencaMinutos < 0) {\r\n        diferencaMinutos += 24 * 60;\r\n      }\r\n      \r\n      // Subtract break time if exists\r\n      if (novaJornada.intervaloInicio && novaJornada.intervaloFim) {\r\n        const inicioIntervalo = novaJornada.intervaloInicio.split(':');\r\n        const fimIntervalo = novaJornada.intervaloFim.split(':');\r\n        \r\n        const intervaloInicio = parseInt(inicioIntervalo[0]) * 60 + parseInt(inicioIntervalo[1]);\r\n        const intervaloFim = parseInt(fimIntervalo[0]) * 60 + parseInt(fimIntervalo[1]);\r\n        \r\n        diferencaMinutos -= (intervaloFim - intervaloInicio);\r\n      }\r\n      \r\n      // Return hours in decimal format\r\n      return diferencaMinutos / 60;\r\n    };\r\n    \r\n    const horasDiarias = calcularHorasDiarias();\r\n    \r\n    // Calculate weekly hours if not a special schedule\r\n    const cargaHorariaSemanal = novaJornada.escalaEspecial \r\n      ? novaJornada.cargaHorariaSemanal \r\n      : Math.round(horasDiarias * novaJornada.diasTrabalho.length * 100) / 100;\r\n    \r\n    // Create or update workshift\r\n    const jornadaCompleta = {\r\n      ...novaJornada,\r\n      cargaHorariaSemanal,\r\n      id: jornadaEmEdicao || Date.now() // Use existing ID or create a new one\r\n    };\r\n    \r\n    // Use the context function to update workshifts\r\n    updateWorkshift(jornadaCompleta);\r\n    \r\n    // Close modal\r\n    setModalJornadaAberto(false);\r\n    setJornadaEmEdicao(null);\r\n  };\r\n  \r\n  // Function to confirm workshift deletion\r\n  const confirmarExclusaoJornada = (jornada) => {\r\n    setJornadaParaExcluir(jornada);\r\n    setModalExclusaoAberto(true);\r\n  };\r\n  \r\n  // Function to toggle workshift active status\r\n  const alternarStatusJornada = (id) => {\r\n    const jornada = workshifts.find(j => j.id === id);\r\n    if (jornada) {\r\n      updateWorkshift({\r\n        ...jornada,\r\n        ativo: !jornada.ativo\r\n      });\r\n    }\r\n  };\r\n  \r\n  // Rest of the component rendering (similar to your original JornadasTab)\r\n  return (\r\n    <div className=\"bg-purple-800 bg-opacity-40 backdrop-blur-sm rounded-lg shadow-lg p-6\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h1 className=\"text-2xl font-bold\">Jornadas de Trabalho</h1>\r\n        <button \r\n          onClick={abrirModalCriarJornada}\r\n          className=\"bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded flex items-center\"\r\n        >\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\r\n          </svg>\r\n          Nova Jornada\r\n        </button>\r\n      </div>\r\n      \r\n      {/* Workshift List */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        {workshifts.map(jornada => (\r\n          <div \r\n            key={jornada.id} \r\n            className={`bg-purple-900 bg-opacity-40 rounded-lg p-4 shadow ${!jornada.ativo ? 'opacity-70' : ''}`}\r\n          >\r\n            <div className=\"flex justify-between items-start mb-2\">\r\n              <h3 className=\"text-lg font-semibold\">{jornada.nome}</h3>\r\n              <div className=\"flex space-x-2\">\r\n                <button \r\n                  onClick={() => alternarStatusJornada(jornada.id)}\r\n                  className={`p-1 rounded ${jornada.ativo ? 'bg-green-600 hover:bg-green-700' : 'bg-gray-600 hover:bg-gray-700'}`}\r\n                  title={jornada.ativo ? 'Desativar Jornada' : 'Ativar Jornada'}\r\n                >\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n                  </svg>\r\n                </button>\r\n                <button \r\n                  onClick={() => abrirModalEditarJornada(jornada)}\r\n                  className=\"bg-blue-600 hover:bg-blue-700 p-1 rounded\"\r\n                  title=\"Editar Jornada\"\r\n                >\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />\r\n                  </svg>\r\n                </button>\r\n                <button \r\n                  onClick={() => confirmarExclusaoJornada(jornada)}\r\n                  className=\"bg-red-600 hover:bg-red-700 p-1 rounded\"\r\n                  title=\"Excluir Jornada\"\r\n                >\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <p className=\"text-purple-300 text-sm mb-3\">{jornada.descricao}</p>\r\n            \r\n            <div className=\"grid grid-cols-2 gap-x-4 gap-y-2 mb-4\">\r\n              <div>\r\n                <span className=\"text-purple-300 text-xs\">Horário:</span>\r\n                <p>{jornada.horaInicio} - {jornada.horaFim}</p>\r\n              </div>\r\n              <div>\r\n                <span className=\"text-purple-300 text-xs\">Intervalo:</span>\r\n                <p>\r\n                  {jornada.intervaloInicio && jornada.intervaloFim \r\n                    ? `${jornada.intervaloInicio} - ${jornada.intervaloFim}` \r\n                    : 'Sem intervalo'}\r\n                </p>\r\n              </div>\r\n              <div>\r\n                <span className=\"text-purple-300 text-xs\">Dias:</span>\r\n                <p className=\"truncate\" title={renderWorkDays(jornada.diasTrabalho)}>\r\n                  {renderWorkDays(jornada.diasTrabalho)}\r\n                </p>\r\n              </div>\r\n              <div>\r\n                <span className=\"text-purple-300 text-xs\">Carga Semanal:</span>\r\n                <p>{jornada.cargaHorariaSemanal}h</p>\r\n              </div>\r\n              <div>\r\n                <span className=\"text-purple-300 text-xs\">Tolerância:</span>\r\n                <p>{jornada.toleranciaEntrada}min / {jornada.toleranciaSaida}min</p>\r\n              </div>\r\n              <div>\r\n                <span className=\"text-purple-300 text-xs\">Status:</span>\r\n                <p>\r\n                  {jornada.ativo \r\n                    ? <span className=\"text-green-400\">Ativa</span> \r\n                    : <span className=\"text-red-400\">Inativa</span>}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Employees with this workshift */}\r\n            <div>\r\n              <div className=\"flex justify-between items-center mb-1\">\r\n                <span className=\"text-purple-300 text-xs\">\r\n                  Funcionários ({employeesByWorkshift[jornada.id]?.length || 0}):\r\n                </span>\r\n                <button\r\n                  onClick={() => abrirModalGerenciarFuncionarios(jornada)}\r\n                  className=\"text-purple-300 hover:text-white text-xs underline\"\r\n                >\r\n                  Gerenciar\r\n                </button>\r\n              </div>\r\n              <div className=\"mt-1 flex flex-wrap gap-1\">\r\n                {employeesByWorkshift[jornada.id]?.map((funcionario, index) => (\r\n                  <span \r\n                    key={index} \r\n                    className=\"bg-purple-700 text-xs px-2 py-1 rounded-full\"\r\n                    title={funcionario}\r\n                  >\r\n                    {funcionario}\r\n                  </span>\r\n                ))}\r\n                {(!employeesByWorkshift[jornada.id] || employeesByWorkshift[jornada.id].length === 0) && (\r\n                  <span className=\"text-purple-400 text-xs\">Nenhum funcionário atribuído</span>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n        \r\n        {workshifts.length === 0 && (\r\n          <div className=\"col-span-2 text-center py-8 text-purple-300\">\r\n            Nenhuma jornada de trabalho cadastrada. Clique em \"Nova Jornada\" para criar.\r\n          </div>\r\n        )}\r\n      </div>\r\n      \r\n      {/* Modal components would be here (similar to your original component) */}\r\n      {/* ... */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default JornadasTabIntegration;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,YAAY,QAAQ,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElD,MAAMC,sBAAsB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACnC;EACA,MAAM;IACJC,UAAU;IACVC,oBAAoB;IACpBC,eAAe;IACfC,uBAAuB;IACvBC;EACF,CAAC,GAAGT,YAAY,CAAC,CAAC;;EAElB;EACA,MAAM,CAACU,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EACnE,MAAM,CAACc,eAAe,EAAEC,kBAAkB,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAC5D,MAAM,CAACgB,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGjB,QAAQ,CAAC,KAAK,CAAC;EACrE,MAAM,CAACkB,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EAClE,MAAM,CAACoB,gCAAgC,EAAEC,mCAAmC,CAAC,GAAGrB,QAAQ,CAAC,KAAK,CAAC;EAC/F,MAAM,CAACsB,eAAe,EAAEC,kBAAkB,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC;EAC5D,MAAM,CAACwB,sBAAsB,EAAEC,yBAAyB,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;;EAE1E;EACA,MAAM,CAAC0B,WAAW,EAAEC,cAAc,CAAC,GAAG3B,QAAQ,CAAC;IAC7C4B,IAAI,EAAE,EAAE;IACRC,SAAS,EAAE,EAAE;IACbC,UAAU,EAAE,EAAE;IACdC,OAAO,EAAE,EAAE;IACXC,eAAe,EAAE,EAAE;IACnBC,YAAY,EAAE,EAAE;IAChBC,YAAY,EAAE,EAAE;IAChBC,mBAAmB,EAAE,CAAC;IACtBC,iBAAiB,EAAE,EAAE;IACrBC,eAAe,EAAE,EAAE;IACnBC,KAAK,EAAE,IAAI;IACXC,cAAc,EAAE;EAClB,CAAC,CAAC;;EAEF;EACA,MAAMC,sBAAsB,GAAGA,CAAA,KAAM;IACnCzB,kBAAkB,CAAC,IAAI,CAAC;IACxBY,cAAc,CAAC;MACbC,IAAI,EAAE,EAAE;MACRC,SAAS,EAAE,EAAE;MACbC,UAAU,EAAE,EAAE;MACdC,OAAO,EAAE,EAAE;MACXC,eAAe,EAAE,EAAE;MACnBC,YAAY,EAAE,EAAE;MAChBC,YAAY,EAAE,EAAE;MAChBC,mBAAmB,EAAE,CAAC;MACtBC,iBAAiB,EAAE,EAAE;MACrBC,eAAe,EAAE,EAAE;MACnBC,KAAK,EAAE,IAAI;MACXC,cAAc,EAAE;IAClB,CAAC,CAAC;IACF1B,qBAAqB,CAAC,IAAI,CAAC;EAC7B,CAAC;;EAED;EACA,MAAM4B,uBAAuB,GAAIC,OAAO,IAAK;IAC3C3B,kBAAkB,CAAC2B,OAAO,CAACC,EAAE,CAAC;IAC9BhB,cAAc,CAAC;MACb,GAAGe,OAAO;MACVR,YAAY,EAAE,CAAC,GAAGQ,OAAO,CAACR,YAAY;IACxC,CAAC,CAAC;IACFrB,qBAAqB,CAAC,IAAI,CAAC;EAC7B,CAAC;;EAED;EACA,MAAM+B,mBAAmB,GAAIC,GAAG,IAAK;IACnC,MAAMC,UAAU,GAAG,CAAC,GAAGpB,WAAW,CAACQ,YAAY,CAAC;IAEhD,IAAIY,UAAU,CAACC,QAAQ,CAACF,GAAG,CAAC,EAAE;MAC5B;MACA,MAAMG,SAAS,GAAGF,UAAU,CAACG,MAAM,CAACC,CAAC,IAAIA,CAAC,KAAKL,GAAG,CAAC;MACnDlB,cAAc,CAAC;QAAE,GAAGD,WAAW;QAAEQ,YAAY,EAAEc;MAAU,CAAC,CAAC;IAC7D,CAAC,MAAM;MACL;MACA,MAAMA,SAAS,GAAG,CAAC,GAAGF,UAAU,EAAED,GAAG,CAAC,CAACM,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,CAAC;MAC5D1B,cAAc,CAAC;QAAE,GAAGD,WAAW;QAAEQ,YAAY,EAAEc;MAAU,CAAC,CAAC;IAC7D;EACF,CAAC;;EAED;EACA,MAAMM,+BAA+B,GAAGA,CAACZ,OAAO,EAAElB,sBAAsB,GAAG,IAAI,KAAK;IAClFD,kBAAkB,CAACmB,OAAO,CAAC;IAC3BjB,yBAAyB,CAACD,sBAAsB,CAAC;IACjDH,mCAAmC,CAAC,IAAI,CAAC;EAC3C,CAAC;;EAED;EACA,MAAMkC,6BAA6B,GAAGA,CAACb,OAAO,EAAEc,WAAW,KAAK;IAC9D,IAAI,CAACA,WAAW,IAAI,CAACd,OAAO,EAAE;IAE9B,MAAMe,kBAAkB,GAAGjD,oBAAoB,CAACkC,OAAO,CAACC,EAAE,CAAC,IAAI,EAAE;IACjE,MAAMe,WAAW,GAAGD,kBAAkB,CAACV,QAAQ,CAACS,WAAW,CAAC;;IAE5D;IACA,IAAIE,WAAW,EAAE;MACf;MACAhD,uBAAuB,CAAC8C,WAAW,EAAE,IAAI,CAAC;IAC5C,CAAC,MAAM;MACL;MACA9C,uBAAuB,CAAC8C,WAAW,EAAEd,OAAO,CAACC,EAAE,CAACgB,QAAQ,CAAC,CAAC,CAAC;IAC7D;;IAEA;IACA,IAAInC,sBAAsB,KAAKgC,WAAW,EAAE;MAC1C/B,yBAAyB,CAAC,IAAI,CAAC;IACjC;EACF,CAAC;;EAED;EACA,MAAMmC,aAAa,GAAIC,CAAC,IAAK;IAC3BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAElB,IAAI,CAACpC,WAAW,CAACE,IAAI,IAAI,CAACF,WAAW,CAACI,UAAU,IAAI,CAACJ,WAAW,CAACK,OAAO,EAAE;MACxEgC,KAAK,CAAC,mDAAmD,CAAC;MAC1D;IACF;IAEA,IAAI,CAACrC,WAAW,CAACa,cAAc,IAAIb,WAAW,CAACQ,YAAY,CAAC8B,MAAM,KAAK,CAAC,EAAE;MACxED,KAAK,CAAC,qDAAqD,CAAC;MAC5D;IACF;;IAEA;IACA,MAAME,oBAAoB,GAAGA,CAAA,KAAM;MACjC,MAAMC,MAAM,GAAGxC,WAAW,CAACI,UAAU,CAACqC,KAAK,CAAC,GAAG,CAAC;MAChD,MAAMC,GAAG,GAAG1C,WAAW,CAACK,OAAO,CAACoC,KAAK,CAAC,GAAG,CAAC;MAE1C,IAAIE,WAAW,GAAGC,QAAQ,CAACJ,MAAM,CAAC,CAAC,CAAC,CAAC;MACrC,IAAIK,aAAa,GAAGD,QAAQ,CAACJ,MAAM,CAAC,CAAC,CAAC,CAAC;MACvC,IAAIM,QAAQ,GAAGF,QAAQ,CAACF,GAAG,CAAC,CAAC,CAAC,CAAC;MAC/B,IAAIK,UAAU,GAAGH,QAAQ,CAACF,GAAG,CAAC,CAAC,CAAC,CAAC;;MAEjC;MACA,MAAMM,aAAa,GAAGL,WAAW,GAAG,EAAE,GAAGE,aAAa;MACtD,MAAMI,UAAU,GAAGH,QAAQ,GAAG,EAAE,GAAGC,UAAU;;MAE7C;MACA,IAAIG,gBAAgB,GAAGD,UAAU,GAAGD,aAAa;;MAEjD;MACA,IAAIE,gBAAgB,GAAG,CAAC,EAAE;QACxBA,gBAAgB,IAAI,EAAE,GAAG,EAAE;MAC7B;;MAEA;MACA,IAAIlD,WAAW,CAACM,eAAe,IAAIN,WAAW,CAACO,YAAY,EAAE;QAC3D,MAAM4C,eAAe,GAAGnD,WAAW,CAACM,eAAe,CAACmC,KAAK,CAAC,GAAG,CAAC;QAC9D,MAAMW,YAAY,GAAGpD,WAAW,CAACO,YAAY,CAACkC,KAAK,CAAC,GAAG,CAAC;QAExD,MAAMnC,eAAe,GAAGsC,QAAQ,CAACO,eAAe,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,GAAGP,QAAQ,CAACO,eAAe,CAAC,CAAC,CAAC,CAAC;QACxF,MAAM5C,YAAY,GAAGqC,QAAQ,CAACQ,YAAY,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,GAAGR,QAAQ,CAACQ,YAAY,CAAC,CAAC,CAAC,CAAC;QAE/EF,gBAAgB,IAAK3C,YAAY,GAAGD,eAAgB;MACtD;;MAEA;MACA,OAAO4C,gBAAgB,GAAG,EAAE;IAC9B,CAAC;IAED,MAAMG,YAAY,GAAGd,oBAAoB,CAAC,CAAC;;IAE3C;IACA,MAAM9B,mBAAmB,GAAGT,WAAW,CAACa,cAAc,GAClDb,WAAW,CAACS,mBAAmB,GAC/B6C,IAAI,CAACC,KAAK,CAACF,YAAY,GAAGrD,WAAW,CAACQ,YAAY,CAAC8B,MAAM,GAAG,GAAG,CAAC,GAAG,GAAG;;IAE1E;IACA,MAAMkB,eAAe,GAAG;MACtB,GAAGxD,WAAW;MACdS,mBAAmB;MACnBQ,EAAE,EAAE7B,eAAe,IAAIqE,IAAI,CAACC,GAAG,CAAC,CAAC,CAAC;IACpC,CAAC;;IAED;IACA3E,eAAe,CAACyE,eAAe,CAAC;;IAEhC;IACArE,qBAAqB,CAAC,KAAK,CAAC;IAC5BE,kBAAkB,CAAC,IAAI,CAAC;EAC1B,CAAC;;EAED;EACA,MAAMsE,wBAAwB,GAAI3C,OAAO,IAAK;IAC5CvB,qBAAqB,CAACuB,OAAO,CAAC;IAC9BzB,sBAAsB,CAAC,IAAI,CAAC;EAC9B,CAAC;;EAED;EACA,MAAMqE,qBAAqB,GAAI3C,EAAE,IAAK;IACpC,MAAMD,OAAO,GAAGnC,UAAU,CAACgF,IAAI,CAACC,CAAC,IAAIA,CAAC,CAAC7C,EAAE,KAAKA,EAAE,CAAC;IACjD,IAAID,OAAO,EAAE;MACXjC,eAAe,CAAC;QACd,GAAGiC,OAAO;QACVJ,KAAK,EAAE,CAACI,OAAO,CAACJ;MAClB,CAAC,CAAC;IACJ;EACF,CAAC;;EAED;EACA,oBACElC,OAAA;IAAKqF,SAAS,EAAC,uEAAuE;IAAAC,QAAA,gBACpFtF,OAAA;MAAKqF,SAAS,EAAC,wCAAwC;MAAAC,QAAA,gBACrDtF,OAAA;QAAIqF,SAAS,EAAC,oBAAoB;QAAAC,QAAA,EAAC;MAAoB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC5D1F,OAAA;QACE2F,OAAO,EAAEvD,sBAAuB;QAChCiD,SAAS,EAAC,8FAA8F;QAAAC,QAAA,gBAExGtF,OAAA;UAAK4F,KAAK,EAAC,4BAA4B;UAACP,SAAS,EAAC,cAAc;UAACQ,IAAI,EAAC,MAAM;UAACC,OAAO,EAAC,WAAW;UAACC,MAAM,EAAC,cAAc;UAAAT,QAAA,eACpHtF,OAAA;YAAMgG,aAAa,EAAC,OAAO;YAACC,cAAc,EAAC,OAAO;YAACC,WAAW,EAAE,CAAE;YAACpD,CAAC,EAAC;UAA4B;YAAAyC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjG,CAAC,gBAER;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAGN1F,OAAA;MAAKqF,SAAS,EAAC,uCAAuC;MAAAC,QAAA,GACnDnF,UAAU,CAACgG,GAAG,CAAC7D,OAAO;QAAA,IAAA8D,qBAAA,EAAAC,sBAAA;QAAA,oBACrBrG,OAAA;UAEEqF,SAAS,EAAE,qDAAqD,CAAC/C,OAAO,CAACJ,KAAK,GAAG,YAAY,GAAG,EAAE,EAAG;UAAAoD,QAAA,gBAErGtF,OAAA;YAAKqF,SAAS,EAAC,uCAAuC;YAAAC,QAAA,gBACpDtF,OAAA;cAAIqF,SAAS,EAAC,uBAAuB;cAAAC,QAAA,EAAEhD,OAAO,CAACd;YAAI;cAAA+D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACzD1F,OAAA;cAAKqF,SAAS,EAAC,gBAAgB;cAAAC,QAAA,gBAC7BtF,OAAA;gBACE2F,OAAO,EAAEA,CAAA,KAAMT,qBAAqB,CAAC5C,OAAO,CAACC,EAAE,CAAE;gBACjD8C,SAAS,EAAE,eAAe/C,OAAO,CAACJ,KAAK,GAAG,iCAAiC,GAAG,+BAA+B,EAAG;gBAChHoE,KAAK,EAAEhE,OAAO,CAACJ,KAAK,GAAG,mBAAmB,GAAG,gBAAiB;gBAAAoD,QAAA,eAE9DtF,OAAA;kBAAK4F,KAAK,EAAC,4BAA4B;kBAACP,SAAS,EAAC,SAAS;kBAACQ,IAAI,EAAC,MAAM;kBAACC,OAAO,EAAC,WAAW;kBAACC,MAAM,EAAC,cAAc;kBAAAT,QAAA,eAC/GtF,OAAA;oBAAMgG,aAAa,EAAC,OAAO;oBAACC,cAAc,EAAC,OAAO;oBAACC,WAAW,EAAE,CAAE;oBAACpD,CAAC,EAAC;kBAAgB;oBAAAyC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACrF;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACA,CAAC,eACT1F,OAAA;gBACE2F,OAAO,EAAEA,CAAA,KAAMtD,uBAAuB,CAACC,OAAO,CAAE;gBAChD+C,SAAS,EAAC,2CAA2C;gBACrDiB,KAAK,EAAC,gBAAgB;gBAAAhB,QAAA,eAEtBtF,OAAA;kBAAK4F,KAAK,EAAC,4BAA4B;kBAACP,SAAS,EAAC,SAAS;kBAACQ,IAAI,EAAC,MAAM;kBAACC,OAAO,EAAC,WAAW;kBAACC,MAAM,EAAC,cAAc;kBAAAT,QAAA,eAC/GtF,OAAA;oBAAMgG,aAAa,EAAC,OAAO;oBAACC,cAAc,EAAC,OAAO;oBAACC,WAAW,EAAE,CAAE;oBAACpD,CAAC,EAAC;kBAAkG;oBAAAyC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACvK;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACA,CAAC,eACT1F,OAAA;gBACE2F,OAAO,EAAEA,CAAA,KAAMV,wBAAwB,CAAC3C,OAAO,CAAE;gBACjD+C,SAAS,EAAC,yCAAyC;gBACnDiB,KAAK,EAAC,iBAAiB;gBAAAhB,QAAA,eAEvBtF,OAAA;kBAAK4F,KAAK,EAAC,4BAA4B;kBAACP,SAAS,EAAC,SAAS;kBAACQ,IAAI,EAAC,MAAM;kBAACC,OAAO,EAAC,WAAW;kBAACC,MAAM,EAAC,cAAc;kBAAAT,QAAA,eAC/GtF,OAAA;oBAAMgG,aAAa,EAAC,OAAO;oBAACC,cAAc,EAAC,OAAO;oBAACC,WAAW,EAAE,CAAE;oBAACpD,CAAC,EAAC;kBAA8H;oBAAAyC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACnM;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACA,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACN1F,OAAA;YAAGqF,SAAS,EAAC,8BAA8B;YAAAC,QAAA,EAAEhD,OAAO,CAACb;UAAS;YAAA8D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAEnE1F,OAAA;YAAKqF,SAAS,EAAC,uCAAuC;YAAAC,QAAA,gBACpDtF,OAAA;cAAAsF,QAAA,gBACEtF,OAAA;gBAAMqF,SAAS,EAAC,yBAAyB;gBAAAC,QAAA,EAAC;cAAQ;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACzD1F,OAAA;gBAAAsF,QAAA,GAAIhD,OAAO,CAACZ,UAAU,EAAC,KAAG,EAACY,OAAO,CAACX,OAAO;cAAA;gBAAA4D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5C,CAAC,eACN1F,OAAA;cAAAsF,QAAA,gBACEtF,OAAA;gBAAMqF,SAAS,EAAC,yBAAyB;gBAAAC,QAAA,EAAC;cAAU;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAC3D1F,OAAA;gBAAAsF,QAAA,EACGhD,OAAO,CAACV,eAAe,IAAIU,OAAO,CAACT,YAAY,GAC5C,GAAGS,OAAO,CAACV,eAAe,MAAMU,OAAO,CAACT,YAAY,EAAE,GACtD;cAAe;gBAAA0D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClB,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC,eACN1F,OAAA;cAAAsF,QAAA,gBACEtF,OAAA;gBAAMqF,SAAS,EAAC,yBAAyB;gBAAAC,QAAA,EAAC;cAAK;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACtD1F,OAAA;gBAAGqF,SAAS,EAAC,UAAU;gBAACiB,KAAK,EAAE/F,cAAc,CAAC+B,OAAO,CAACR,YAAY,CAAE;gBAAAwD,QAAA,EACjE/E,cAAc,CAAC+B,OAAO,CAACR,YAAY;cAAC;gBAAAyD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC,eACN1F,OAAA;cAAAsF,QAAA,gBACEtF,OAAA;gBAAMqF,SAAS,EAAC,yBAAyB;gBAAAC,QAAA,EAAC;cAAc;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAC/D1F,OAAA;gBAAAsF,QAAA,GAAIhD,OAAO,CAACP,mBAAmB,EAAC,GAAC;cAAA;gBAAAwD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClC,CAAC,eACN1F,OAAA;cAAAsF,QAAA,gBACEtF,OAAA;gBAAMqF,SAAS,EAAC,yBAAyB;gBAAAC,QAAA,EAAC;cAAW;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAC5D1F,OAAA;gBAAAsF,QAAA,GAAIhD,OAAO,CAACN,iBAAiB,EAAC,QAAM,EAACM,OAAO,CAACL,eAAe,EAAC,KAAG;cAAA;gBAAAsD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjE,CAAC,eACN1F,OAAA;cAAAsF,QAAA,gBACEtF,OAAA;gBAAMqF,SAAS,EAAC,yBAAyB;gBAAAC,QAAA,EAAC;cAAO;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACxD1F,OAAA;gBAAAsF,QAAA,EACGhD,OAAO,CAACJ,KAAK,gBACVlC,OAAA;kBAAMqF,SAAS,EAAC,gBAAgB;kBAAAC,QAAA,EAAC;gBAAK;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,gBAC7C1F,OAAA;kBAAMqF,SAAS,EAAC,cAAc;kBAAAC,QAAA,EAAC;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChD,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAGN1F,OAAA;YAAAsF,QAAA,gBACEtF,OAAA;cAAKqF,SAAS,EAAC,wCAAwC;cAAAC,QAAA,gBACrDtF,OAAA;gBAAMqF,SAAS,EAAC,yBAAyB;gBAAAC,QAAA,GAAC,mBAC1B,EAAC,EAAAc,qBAAA,GAAAhG,oBAAoB,CAACkC,OAAO,CAACC,EAAE,CAAC,cAAA6D,qBAAA,uBAAhCA,qBAAA,CAAkCxC,MAAM,KAAI,CAAC,EAAC,IAC/D;cAAA;gBAAA2B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACP1F,OAAA;gBACE2F,OAAO,EAAEA,CAAA,KAAMzC,+BAA+B,CAACZ,OAAO,CAAE;gBACxD+C,SAAS,EAAC,oDAAoD;gBAAAC,QAAA,EAC/D;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eACN1F,OAAA;cAAKqF,SAAS,EAAC,2BAA2B;cAAAC,QAAA,IAAAe,sBAAA,GACvCjG,oBAAoB,CAACkC,OAAO,CAACC,EAAE,CAAC,cAAA8D,sBAAA,uBAAhCA,sBAAA,CAAkCF,GAAG,CAAC,CAAC/C,WAAW,EAAEmD,KAAK,kBACxDvG,OAAA;gBAEEqF,SAAS,EAAC,8CAA8C;gBACxDiB,KAAK,EAAElD,WAAY;gBAAAkC,QAAA,EAElBlC;cAAW,GAJPmD,KAAK;gBAAAhB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAKN,CACP,CAAC,EACD,CAAC,CAACtF,oBAAoB,CAACkC,OAAO,CAACC,EAAE,CAAC,IAAInC,oBAAoB,CAACkC,OAAO,CAACC,EAAE,CAAC,CAACqB,MAAM,KAAK,CAAC,kBAClF5D,OAAA;gBAAMqF,SAAS,EAAC,yBAAyB;gBAAAC,QAAA,EAAC;cAA4B;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAC7E;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA,GArGDpD,OAAO,CAACC,EAAE;UAAAgD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAsGZ,CAAC;MAAA,CACP,CAAC,EAEDvF,UAAU,CAACyD,MAAM,KAAK,CAAC,iBACtB5D,OAAA;QAAKqF,SAAS,EAAC,6CAA6C;QAAAC,QAAA,EAAC;MAE7D;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAIH,CAAC;AAEV,CAAC;AAACxF,EAAA,CA/UID,sBAAsB;EAAA,QAQtBH,YAAY;AAAA;AAAA0G,EAAA,GARZvG,sBAAsB;AAiV5B,eAAeA,sBAAsB;AAAC,IAAAuG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}